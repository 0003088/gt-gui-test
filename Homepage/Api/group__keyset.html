<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Elektra Project: KeySet :: Class Methods</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a></div>
<h1>KeySet :: Class Methods</h1>Methods to manipulate KeySets. A KeySet is a linked list to group a number of Keys. Key Sets have an <a class="el" href="group__keyset.html#ga5">internal cursor </a> to help in the Key navigation.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga0">ksNew</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate, initialize and return a new KeySet object.  <a href="#ga0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga1">ksDel</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A destructor for KeySet objects.  <a href="#ga1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga2" doxytag="keyset::ksGetSize"></a>
ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga2">ksGetSize</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the number of keys contained by <code>ks</code>. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga3">ksRewind</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resets a KeySet internal cursor.  <a href="#ga3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__Key.html">Key</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga4">ksNext</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the next Key in a KeySet.  <a href="#ga4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__Key.html">Key</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga5">ksCurrent</a> (const <a class="el" href="struct__KeySet.html">KeySet</a> *ks)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the current Key.  <a href="#ga5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__Key.html">Key</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga6">ksHead</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the first key in the KeySet, whithout changing the KeySet's internal cursor.  <a href="#ga6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__Key.html">Key</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga7">ksTail</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the last key in the KeySet, whithout changing the KeySet's internal cursor.  <a href="#ga7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__Key.html">Key</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga8">ksLookupByName</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks, const char *name, unsigned long options)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Look for a Key contained in <code>ks</code> that matches <code>name</code>, starting from ks' <a class="el" href="group__keyset.html#ga4">ksNext()</a> position.  <a href="#ga8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">u_int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga9">ksLookupRE</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks, u_int32_t where, const regex_t *regexp, unsigned long options)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lookup for a key which any of its <code>where</code> components matches the <code>regex</code> regular expression.  <a href="#ga9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__Key.html">Key</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga10">ksLookupByValue</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks, const char *value, unsigned long options)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lookup for a Key contained in <code>ks</code> KeySet that matches <code>value</code>, starting from ks' <a class="el" href="group__keyset.html#ga4">ksNext()</a> position.  <a href="#ga10"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__Key.html">Key</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga11">ksLookupByBinaryValue</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks, void *value, size_t size, unsigned long options)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lookup for a Key contained in <code>ks</code> KeySet that matches the binary <code>value</code>, starting from ks' <a class="el" href="group__keyset.html#ga4">ksNext()</a> position.  <a href="#ga11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga12">ksInsert</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks, <a class="el" href="struct__Key.html">Key</a> *toInsert)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Insert a new Key in the begining of the KeySet.  <a href="#ga12"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__Key.html">Key</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga13">ksPop</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove and return the first key of <code>ks</code>.  <a href="#ga13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__Key.html">Key</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga14">ksPopLast</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove and return the last key of <code>ks</code>.  <a href="#ga14"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga15">ksInsertKeys</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks, <a class="el" href="struct__KeySet.html">KeySet</a> *toInsert)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transfers all keys from <code>toInsert</code> to the begining of <code>ks</code>.  <a href="#ga15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga16">ksAppend</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks, <a class="el" href="struct__Key.html">Key</a> *toAppend)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Appends a new Key to the end of <code>ks</code>.  <a href="#ga16"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga17">ksAppendKeys</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks, <a class="el" href="struct__KeySet.html">KeySet</a> *toAppend)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transfers all <code>toAppend</code> contained keys to the end of the <code>ks</code>.  <a href="#ga17"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga18">ksCompare</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks1, <a class="el" href="struct__KeySet.html">KeySet</a> *ks2, <a class="el" href="struct__KeySet.html">KeySet</a> *removed)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compare 2 KeySets.  <a href="#ga18"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga19">ksToStream</a> (const <a class="el" href="struct__KeySet.html">KeySet</a> *ks, FILE *stream, unsigned long options)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Writes to <code>stream</code> an XML version of the <code>ks</code> object.  <a href="#ga19"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga21">ksSort</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sorts a KeySet aphabetically by Key name, using qsort().  <a href="#ga21"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga22">ksInit</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">KeySet object initializer.  <a href="#ga22"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keyset.html#ga23">ksClose</a> (<a class="el" href="struct__KeySet.html">KeySet</a> *ks)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">KeySet object cleaner.  <a href="#ga23"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Methods to manipulate KeySets. A KeySet is a linked list to group a number of Keys. Key Sets have an <a class="el" href="group__keyset.html#ga5">internal cursor </a> to help in the Key navigation. 
<p>
These are the methods to make various manipulations in the objects of class KeySet. Methods for <a class="el" href="group__keyset.html#ga21">sorting </a>, <a class="el" href="group__keyset.html#ga17">merging </a>, <a class="el" href="group__keyset.html#ga18">comparing </a>, and <a class="el" href="group__keyset.html#ga4">internal cursor manipulation </a> are provided. To use them: <div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;kdb.h&gt;</span>
</pre></div><hr><h2>Function Documentation</h2>
<a class="anchor" name="ga0" doxytag="key.c::ksNew"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a>* ksNew           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Allocate, initialize and return a new KeySet object. 
<p>
Objects created with <a class="el" href="group__keyset.html#ga0">ksNew()</a> must be destroyed with <a class="el" href="group__keyset.html#ga1">ksDel()</a>.<p>
Due to ABI compatibility, the <code>KeySet</code> structure is only declared in <a class="el" href="kdb_8h.html">kdb.h</a>, and not defined. So you can only declare <code>pointers</code> to <code>KeySets</code> in your program, and allocate and free memory for them with <a class="el" href="group__keyset.html#ga0">ksNew()</a> and <a class="el" href="group__keyset.html#ga1">ksDel()</a> respectively. See <a href="http://tldp.org/HOWTO/Program-Library-HOWTO/shared-libraries.html#AEN135">http://tldp.org/HOWTO/Program-Library-HOWTO/shared-libraries.html#AEN135</a><p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga1">ksDel()</a> </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>a ready to use KeySet object </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l02913">2913</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="key_8c-source.html#l03808">ksInit()</a>.
<p>
Referenced by <a class="el" href="kdb_8c-source.html#l00923">commandEdit()</a>, <a class="el" href="kdb_8c-source.html#l01064">commandImport()</a>, and <a class="el" href="kdb_8c-source.html#l00679">commandList()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga1" doxytag="key.c::ksDel"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ksDel           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ks</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A destructor for KeySet objects. 
<p>
Cleans all internal dynamic attributes, <a class="el" href="group__key.html#ga1">keyDel()</a> all contained Keys, and free()s the release the KeySet object memory (that was previously allocated by <a class="el" href="group__keyset.html#ga0">ksNew()</a>). There is the <code>ksFree()</code> macro if you prefer this method name.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga0">ksNew()</a>, <a class="el" href="group__keyset.html#ga23">ksClose()</a> </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>whatever is returned by <a class="el" href="group__keyset.html#ga23">ksClose()</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l02932">2932</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="key_8c-source.html#l03827">ksClose()</a>.
<p>
Referenced by <a class="el" href="kdb_8c-source.html#l00923">commandEdit()</a>, and <a class="el" href="kdb_8c-source.html#l00679">commandList()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga3" doxytag="key.c::ksRewind"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ksRewind           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ks</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Resets a KeySet internal cursor. 
<p>
Use it to set the cursor to the begining of the KeySet<p>
<dl compact><dt><b>Returns:</b></dt><dd>allways 0 </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga4">ksNext()</a>, <a class="el" href="group__keyset.html#ga5">ksCurrent()</a>, <a class="el" href="group__kdb.html#ga21">kdbMonitorKeys()</a> for an example </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l02970">2970</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00177">_KeySet::cursor</a>.
<p>
Referenced by <a class="el" href="kdb_8c-source.html#l00923">commandEdit()</a>, <a class="el" href="kdb_8c-source.html#l01064">commandImport()</a>, and <a class="el" href="kdb_8c-source.html#l00679">commandList()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga4" doxytag="key.c::ksNext"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__Key.html">Key</a>* ksNext           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ks</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the next Key in a KeySet. 
<p>
KeySets have an internal cursor that can be reset with <a class="el" href="group__keyset.html#ga3">ksRewind()</a>. Every time <a class="el" href="group__keyset.html#ga4">ksNext()</a> is called the cursor is incremented and the new current Key is returned. You'll get a NULL pointer if the end of KeySet was reached. After that, if <a class="el" href="group__keyset.html#ga4">ksNext()</a> is called again, it will set the cursor to the begining of the KeySet and the first key is returned.<p>
<dl compact><dt><b>Returns:</b></dt><dd>the new current Key </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga3">ksRewind()</a>, <a class="el" href="group__keyset.html#ga5">ksCurrent()</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l02990">2990</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00177">_KeySet::cursor</a>, <a class="el" href="kdbprivate_8h-source.html#l00152">_Key::next</a>, and <a class="el" href="kdbprivate_8h-source.html#l00175">_KeySet::start</a>.
<p>
Referenced by <a class="el" href="kdb_8c-source.html#l00923">commandEdit()</a>, <a class="el" href="kdb_8c-source.html#l01064">commandImport()</a>, <a class="el" href="kdb_8c-source.html#l00679">commandList()</a>, <a class="el" href="libkdb_8c-source.html#l01114">kdbMonitorKeys_default()</a>, <a class="el" href="libkdb_8c-source.html#l00884">kdbSetKeys_default()</a>, <a class="el" href="key_8c-source.html#l03333">ksLookupByBinaryValue()</a>, <a class="el" href="key_8c-source.html#l03074">ksLookupByName()</a>, <a class="el" href="key_8c-source.html#l03284">ksLookupByValue()</a>, and <a class="el" href="key_8c-source.html#l03192">ksLookupRE()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga5" doxytag="key.c::ksCurrent"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__Key.html">Key</a>* ksCurrent           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ks</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the current Key. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>pointer to the Key pointed by <code>ks's</code> cursor </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga4">ksNext()</a>, <a class="el" href="group__keyset.html#ga3">ksRewind()</a> <p>
<a class="el" href="group__kdb.html#ga21">kdbMonitorKeys()</a> for a usage example </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03006">3006</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00177">_KeySet::cursor</a>.
<p>
Referenced by <a class="el" href="kdb_8c-source.html#l00923">commandEdit()</a>, <a class="el" href="kdb_8c-source.html#l01064">commandImport()</a>, <a class="el" href="libkdb_8c-source.html#l01114">kdbMonitorKeys_default()</a>, and <a class="el" href="libkdb_8c-source.html#l00884">kdbSetKeys_default()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga6" doxytag="key.c::ksHead"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__Key.html">Key</a>* ksHead           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ks</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the first key in the KeySet, whithout changing the KeySet's internal cursor. 
<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga7">ksTail()</a>, <a class="el" href="group__keyset.html#ga5">ksCurrent()</a>, <a class="el" href="group__keyset.html#ga4">ksNext()</a> <p>
<a class="el" href="group__keyset.html#ga3">ksRewind()</a> which also resets the internal cursor. </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03019">3019</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00175">_KeySet::start</a>.
<p>
Referenced by <a class="el" href="kdb_8c-source.html#l00679">commandList()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga7" doxytag="key.c::ksTail"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__Key.html">Key</a>* ksTail           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ks</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the last key in the KeySet, whithout changing the KeySet's internal cursor. 
<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga6">ksHead()</a>, <a class="el" href="group__keyset.html#ga5">ksCurrent()</a>, <a class="el" href="group__keyset.html#ga4">ksNext()</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03031">3031</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00176">_KeySet::end</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga8" doxytag="key.c::ksLookupByName"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__Key.html">Key</a>* ksLookupByName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ks</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>options</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Look for a Key contained in <code>ks</code> that matches <code>name</code>, starting from ks' <a class="el" href="group__keyset.html#ga4">ksNext()</a> position. 
<p>
If found, <code>ks</code> internal cursor will be positioned in the matched key (also accessible by <a class="el" href="group__keyset.html#ga5">ksCurrent()</a>), and a pointer to the Key is returned. If not found, <code>ks</code> internal cursor will not move, and a NULL pointer is returned.<p>
The <code>ksLookup*</code>() set of methods are designed to let you work with entirely pre-loaded KeySets, so instead of <a class="el" href="group__kdb.html#ga14">kdbGetKey()</a>, key by key, the idea is to fully <a class="el" href="group__kdb.html#ga11">kdbGetChildKeys()</a> for your application root key (which is more performatic), and process it all at once with <code>ksLookup*</code>().<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ks</em>&nbsp;</td><td>where to look for </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>key name you are looking for </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>some <code>KDB_O_*</code> option bits. Currently suported:<ul>
<li><code>KDB_O_NOCASE</code> <br>
 Lookup ignoring case. </li></ul>
</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>pointer to the Key found, 0 otherwise </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga9">ksLookupRE()</a> for powerfull regular expressions based lookups <p>
<a class="el" href="group__keytest.html#ga9">keyCompare()</a> for very powerfull Key lookups in KeySets <p>
<a class="el" href="group__keyset.html#ga5">ksCurrent()</a>, <a class="el" href="group__keyset.html#ga3">ksRewind()</a>, <a class="el" href="group__keyset.html#ga4">ksNext()</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03074">3074</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00177">_KeySet::cursor</a>, <a class="el" href="kdbprivate_8h-source.html#l00133">_Key::key</a>, <a class="el" href="key_8c-source.html#l02990">ksNext()</a>, and <a class="el" href="key_8c-source.html#l00049">strblen()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga9" doxytag="key.c::ksLookupRE"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u_int32_t ksLookupRE           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ks</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>u_int32_t&nbsp;</td>
          <td class="mdname" nowrap> <em>where</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const regex_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>regexp</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>options</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Lookup for a key which any of its <code>where</code> components matches the <code>regex</code> regular expression. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ks</em>&nbsp;</td><td>the KeySet to lookup into </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>where</em>&nbsp;</td><td>any of <code>KEY_SWITCH_NAME</code>, <code>KEY_SWITCH_VALUE</code>, <code>KEY_SWITCH_OWNER</code>, <code>KEY_SWITCH_COMMENT</code> ORed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>regexp</em>&nbsp;</td><td>a regcomp(3) pre-compiled regular expression </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>some <code>KDB_O_*</code> ORed options to change lookup behavior. Currently supported options:<ul>
<li><code>KDB_O_NOSPANPARENT</code> <br>
 Lookup only keys under <a class="el" href="group__keyset.html#ga5">ksCurrent()</a>'s parent. If we are in the begining of the KeySet (<a class="el" href="group__keyset.html#ga5">ksCurrent()</a>==NULL), this option is ignored. <code>ks</code> must be <a class="el" href="group__keyset.html#ga21">ksSort()</a>ed (or <a class="el" href="group__kdb.html#ga11">kdbGetChildKeys()</a> with <a class="el" href="group__kdb.html#gga24a68">KDB_O_SORT </a>) for this to work.</li></ul>
</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>some of <code>KEY_SWITCH_NAME</code>, <code>KEY_SWITCH_VALUE</code>, <code>KEY_SWITCH_OWNER</code>, <code>KEY_SWITCH_COMMENT</code> switches ORed to indicate <code>where</code> the <code>regex</code> matched.</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga8">ksLookupByName()</a>, <a class="el" href="group__keyset.html#ga10">ksLookupByValue()</a>, <a class="el" href="group__keytest.html#ga9">keyCompare()</a> for other types of lookups. <p>
<a class="el" href="group__kdb.html#ga11">kdbGetChildKeys()</a>, <a class="el" href="group__keyset.html#ga21">ksSort()</a></dd></dl>
<dl compact><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment"><span class="comment">// This code will process all Devices options, device by device.</span>
<span class="comment">// Look how we use nested loops, palying with KDB_O_NOSPANPARENT.</span>
<span class="comment">// We can do more interesting things when playing with 2 or more regular</span>
<span class="comment">// expressions.</span>

regex_t regex;

<span class="comment">// you are NOT seeing spaces in this regex</span>
regcomp(&amp;regex,<span class="stringliteral">".* /InputDevices/.* /Options/.*"</span>,REG_NOSUB);
where=KEY_SWITCH_NAME; <span class="comment">// look for it only in key names</span>

<a class="code" href="group__keyset.html#ga3">ksRewind</a>(ks);
<span class="keywordflow">do</span> {
    <span class="comment">// show all keys that match this name, and are siblings of the first match</span>
    match=<a class="code" href="group__keyset.html#ga9">ksLookupRE</a>(ks,where,&amp;regex,0);
    <span class="keywordflow">if</span> (match) {
        <span class="comment">// We found a device and its first option,</span>
        
        processOption(<a class="code" href="group__keyset.html#ga5">ksCurrent</a>(ks));
        
        <span class="comment">// now process other options of this same device</span>
        <span class="keywordflow">do</span> {
            <span class="comment">// fetch only the options with same parent with the</span>
            <span class="comment">// help of KDB_O_NOSPANPARENT</span>
            match=<a class="code" href="group__keyset.html#ga9">ksLookupRE</a>(ks,where,&amp;regex,KDB_O_NOSPANPARENT);
            
            <span class="keywordflow">if</span> (match) processOption(<a class="code" href="group__keyset.html#ga5">ksCurrent</a>(ks));
        } <span class="keywordflow">while</span> (match);
    }
} <span class="keywordflow">while</span> (match);

regfree(&amp;regex); <span class="comment">// free regex resources</span>
</pre></div></dd></dl>
<dl compact><dt><b>Examples of regular expressions:</b></dt><dd><div class="fragment"><pre class="fragment">regex_t regex;

<span class="comment">// The spaces between '*' and '/' and '*' chars are Doxygen mirages :)</span>

regcomp(&amp;regex,
    <span class="stringliteral">"some value .* more text"</span>,  <span class="comment">// match this</span>
    REG_NEWLINE | REG_NOSUB);   <span class="comment">// all in a single line</span>

regcomp(&amp;regex,
    <span class="stringliteral">"Device/.* /Options/ *"</span>,      <span class="comment">// only interested in option keys</span>
    REG_ICASE | REG_NOSUB);      <span class="comment">// ignore case</span>

regcomp(&amp;regex,
    <span class="stringliteral">"^system/folder/.* /basename$"</span>, <span class="comment">// match real system/ keys that end with 'basename'</span>
    REG_NOSUB);       <span class="comment">// allways use REG_NOSUB to increase performance</span>

regcomp(&amp;regex,
    <span class="stringliteral">"^system/sw/xorg/.* /Screen[0-9]* /Displays/[0-9]* /Depth$"</span>, <span class="comment">// we want all X.org's depths of all displays of all screens</span>
    REG_ICASE | REG_NOSUB);   <span class="comment">// we don't care about the case</span>


regfree(&amp;regex);        <span class="comment">// don't forget to free resources</span>
</pre></div></dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03192">3192</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00139">_Key::comment</a>, <a class="el" href="kdbprivate_8h-source.html#l00177">_KeySet::cursor</a>, <a class="el" href="kdbprivate_8h-source.html#l00151">_Key::data</a>, <a class="el" href="kdbprivate_8h-source.html#l00133">_Key::key</a>, <a class="el" href="group__key.html#gga5a10">KEY_TYPE_BINARY</a>, <a class="el" href="key_8c-source.html#l00724">keyGetNameSize()</a>, <a class="el" href="key_8c-source.html#l01223">keyGetParentName()</a>, <a class="el" href="key_8c-source.html#l01168">keyGetParentNameSize()</a>, <a class="el" href="key_8c-source.html#l00969">keyIsUser()</a>, <a class="el" href="key_8c-source.html#l02990">ksNext()</a>, <a class="el" href="kdbprivate_8h-source.html#l00072">_Key::type</a>, and <a class="el" href="kdbprivate_8h-source.html#l00145">_Key::userDomain</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga10" doxytag="key.c::ksLookupByValue"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__Key.html">Key</a>* ksLookupByValue           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ks</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>options</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Lookup for a Key contained in <code>ks</code> KeySet that matches <code>value</code>, starting from ks' <a class="el" href="group__keyset.html#ga4">ksNext()</a> position. 
<p>
If found, <code>ks</code> internal cursor will be positioned in the matched key (also accessible by <a class="el" href="group__keyset.html#ga5">ksCurrent()</a>), and a pointer to the Key is returned. If not found, <code>ks</code> internal cursor won't move, and a NULL pointer is returned.<p>
This method jumps binary keys, unless <code>value</code> is NULL.<p>
<dl compact><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment"><a class="code" href="group__keyset.html#ga3">ksRewind</a>(ks);
<span class="keywordflow">while</span> (key=<a class="code" href="group__keyset.html#ga10">ksLookupByValue</a>(ks,<span class="stringliteral">"my value"</span>,0)) {
    <span class="comment">// show all keys which value="my value"</span>
    <a class="code" href="group__keymisc.html#ga1">keyToStream</a>(key,stdout,0);
}
</pre></div></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ks</em>&nbsp;</td><td>where to look for </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the value which owner key you want to find </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>some <code>KDB_O_*</code> option bits. Currently supported:<ul>
<li><code>KDB_O_NOCASE</code> <br>
 Lookup ignoring case. </li></ul>
</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the Key found, 0 otherwise </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga11">ksLookupByBinaryValue()</a> <p>
<a class="el" href="group__keytest.html#ga9">keyCompare()</a> for very powerfull Key lookups in KeySets <p>
<a class="el" href="group__keyset.html#ga5">ksCurrent()</a>, <a class="el" href="group__keyset.html#ga3">ksRewind()</a>, <a class="el" href="group__keyset.html#ga4">ksNext()</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03284">3284</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00177">_KeySet::cursor</a>, <a class="el" href="kdbprivate_8h-source.html#l00151">_Key::data</a>, <a class="el" href="kdbprivate_8h-source.html#l00120">_Key::dataSize</a>, <a class="el" href="group__key.html#gga5a10">KEY_TYPE_BINARY</a>, <a class="el" href="key_8c-source.html#l02990">ksNext()</a>, <a class="el" href="key_8c-source.html#l00049">strblen()</a>, and <a class="el" href="kdbprivate_8h-source.html#l00072">_Key::type</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga11" doxytag="key.c::ksLookupByBinaryValue"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__Key.html">Key</a>* ksLookupByBinaryValue           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ks</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>options</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Lookup for a Key contained in <code>ks</code> KeySet that matches the binary <code>value</code>, starting from ks' <a class="el" href="group__keyset.html#ga4">ksNext()</a> position. 
<p>
If found, <code>ks</code> internal cursor will be positioned in the matched key (also accessible by <a class="el" href="group__keyset.html#ga5">ksCurrent()</a>), and a pointer to the Key is returned. If not found, <code>ks</code> internal cursor won't move, and a NULL pointer is returned.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ks</em>&nbsp;</td><td>where to look for </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the value which owner key you want to find </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>the size of <code>value</code> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>some <code>KDB_O_*</code> option bits, for future use </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the Key found, NULL otherwise </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga10">ksLookupByValue()</a> <p>
<a class="el" href="group__keytest.html#ga9">keyCompare()</a> for very powerfull Key lookups in KeySets <p>
<a class="el" href="group__keyset.html#ga5">ksCurrent()</a>, <a class="el" href="group__keyset.html#ga3">ksRewind()</a>, <a class="el" href="group__keyset.html#ga4">ksNext()</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03333">3333</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00177">_KeySet::cursor</a>, <a class="el" href="kdbprivate_8h-source.html#l00151">_Key::data</a>, <a class="el" href="kdbprivate_8h-source.html#l00120">_Key::dataSize</a>, and <a class="el" href="key_8c-source.html#l02990">ksNext()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga12" doxytag="key.c::ksInsert"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ssize_t ksInsert           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ks</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct__Key.html">Key</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>toInsert</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Insert a new Key in the begining of the KeySet. 
<p>
A reference to the key will be stored, and not a copy of the key. So a future <a class="el" href="group__keyset.html#ga23">ksClose()</a> or <a class="el" href="group__keyset.html#ga1">ksDel()</a> on <code>ks</code> will <a class="el" href="group__key.html#ga1">keyDel()</a> the <code>toInsert</code> object. The KeySet internal cursor is not moved.<p>
Do not <a class="el" href="group__keyset.html#ga12">ksInsert()</a> Keys that are already members of other KeySets.<p>
<dl compact><dt><b>Returns:</b></dt><dd>the size of the KeySet after insertion </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ks</em>&nbsp;</td><td>KeySet that will receive the key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>toInsert</em>&nbsp;</td><td>Key that will be inserted into ks </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga16">ksAppend()</a>, <a class="el" href="group__keyset.html#ga15">ksInsertKeys()</a>, <a class="el" href="group__keyset.html#ga17">ksAppendKeys()</a>, <a class="el" href="group__keyset.html#ga1">ksDel()</a>, <a class="el" href="group__key.html#ga0">keyNew()</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03380">3380</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00176">_KeySet::end</a>, <a class="el" href="kdbprivate_8h-source.html#l00152">_Key::next</a>, <a class="el" href="kdbprivate_8h-source.html#l00178">_KeySet::size</a>, and <a class="el" href="kdbprivate_8h-source.html#l00175">_KeySet::start</a>.
<p>
Referenced by <a class="el" href="libkdb_8c-source.html#l00763">kdbGetRootKeys()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga13" doxytag="key.c::ksPop"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__Key.html">Key</a>* ksPop           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ks</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Remove and return the first key of <code>ks</code>. 
<p>
If <code>ks'</code> cursor was positioned in the poped key, <code>ks</code> will be <a class="el" href="group__keyset.html#ga3">ksRewind()</a>ed.<p>
<a class="el" href="group__keyset.html#ga12">ksInsert()</a> provides the 'push' bahavior.<p>
<dl compact><dt><b>Returns:</b></dt><dd>the first key of <code>ks</code>, or NULL if <code>ks</code> is empty </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ks</em>&nbsp;</td><td>KeySet to work with </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga12">ksInsert()</a>, <a class="el" href="group__keyset.html#ga3">ksRewind()</a> <p>
<a class="el" href="group__libexample.html#ga28">commandList()</a> for an example </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03400">3400</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00177">_KeySet::cursor</a>, <a class="el" href="kdbprivate_8h-source.html#l00176">_KeySet::end</a>, <a class="el" href="kdbprivate_8h-source.html#l00152">_Key::next</a>, <a class="el" href="kdbprivate_8h-source.html#l00178">_KeySet::size</a>, and <a class="el" href="kdbprivate_8h-source.html#l00175">_KeySet::start</a>.
<p>
Referenced by <a class="el" href="kdb_8c-source.html#l00679">commandList()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga14" doxytag="key.c::ksPopLast"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__Key.html">Key</a>* ksPopLast           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ks</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Remove and return the last key of <code>ks</code>. 
<p>
If <code>ks'</code> cursor was positioned in the poped key, <code>ks</code> will be <a class="el" href="group__keyset.html#ga3">ksRewind()</a>ed.<p>
<a class="el" href="group__keyset.html#ga16">ksAppend()</a> provides the 'push' bahavior.<p>
<dl compact><dt><b>Returns:</b></dt><dd>the last key of <code>ks</code>, or NULL if <code>ks</code> is empty </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ks</em>&nbsp;</td><td>KeySet to work with </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga16">ksAppend()</a>, <a class="el" href="group__keyset.html#ga3">ksRewind()</a> <p>
<a class="el" href="group__libexample.html#ga28">commandList()</a> and <a class="el" href="group__keyset.html#ga18">ksCompare()</a> for examples </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03427">3427</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00177">_KeySet::cursor</a>, <a class="el" href="kdbprivate_8h-source.html#l00176">_KeySet::end</a>, <a class="el" href="kdbprivate_8h-source.html#l00152">_Key::next</a>, <a class="el" href="kdbprivate_8h-source.html#l00178">_KeySet::size</a>, and <a class="el" href="kdbprivate_8h-source.html#l00175">_KeySet::start</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga15" doxytag="key.c::ksInsertKeys"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ssize_t ksInsertKeys           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ks</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>toInsert</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Transfers all keys from <code>toInsert</code> to the begining of <code>ks</code>. 
<p>
After this call, <code>toInsert</code> will be empty and can be deleted with <a class="el" href="group__keyset.html#ga1">ksDel()</a>.<p>
<dl compact><dt><b>Returns:</b></dt><dd>the size of the KeySet after insertion </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ks</em>&nbsp;</td><td>the KeySet that will receive the keys </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>toInsert</em>&nbsp;</td><td>the KeySet that provides the keys that will be transfered </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga16">ksAppend()</a>, <a class="el" href="group__keyset.html#ga12">ksInsert()</a>, <a class="el" href="group__keyset.html#ga17">ksAppendKeys()</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03467">3467</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00177">_KeySet::cursor</a>, <a class="el" href="kdbprivate_8h-source.html#l00176">_KeySet::end</a>, <a class="el" href="kdbprivate_8h-source.html#l00152">_Key::next</a>, <a class="el" href="kdbprivate_8h-source.html#l00178">_KeySet::size</a>, and <a class="el" href="kdbprivate_8h-source.html#l00175">_KeySet::start</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga16" doxytag="key.c::ksAppend"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ssize_t ksAppend           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ks</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct__Key.html">Key</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>toAppend</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Appends a new Key to the end of <code>ks</code>. 
<p>
A reference to the key will be stored, and not a private copy. So a future <a class="el" href="group__keyset.html#ga23">ksClose()</a> or <a class="el" href="group__keyset.html#ga1">ksDel()</a> on <code>ks</code> will <a class="el" href="group__key.html#ga1">keyDel()</a> the <code>toAppend</code> object. The KeySet internal cursor is not moved.<p>
Do not <a class="el" href="group__keyset.html#ga16">ksAppend()</a> Keys that are already contained by other KeySets.<p>
<dl compact><dt><b>Returns:</b></dt><dd>the size of the KeySet after insertion </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ks</em>&nbsp;</td><td>KeySet that will receive the key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>toAppend</em>&nbsp;</td><td>Key that will be appended to ks </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga12">ksInsert()</a>, <a class="el" href="group__keyset.html#ga15">ksInsertKeys()</a>, <a class="el" href="group__keyset.html#ga17">ksAppendKeys()</a>, <a class="el" href="group__key.html#ga0">keyNew()</a>, <a class="el" href="group__keyset.html#ga1">ksDel()</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03497">3497</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00176">_KeySet::end</a>, <a class="el" href="kdbprivate_8h-source.html#l00152">_Key::next</a>, <a class="el" href="kdbprivate_8h-source.html#l00178">_KeySet::size</a>, and <a class="el" href="kdbprivate_8h-source.html#l00175">_KeySet::start</a>.
<p>
Referenced by <a class="el" href="kdb_8c-source.html#l00923">commandEdit()</a>, <a class="el" href="kdb_8c-source.html#l00679">commandList()</a>, and <a class="el" href="key_8c-source.html#l03612">ksCompare()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga17" doxytag="key.c::ksAppendKeys"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ssize_t ksAppendKeys           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ks</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>toAppend</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Transfers all <code>toAppend</code> contained keys to the end of the <code>ks</code>. 
<p>
After this call, the <code>toAppend</code> KeySet will be empty, and can be deleted with <a class="el" href="group__keyset.html#ga1">ksDel()</a>.<p>
<dl compact><dt><b>Returns:</b></dt><dd>the size of the KeySet after transfer </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ks</em>&nbsp;</td><td>the KeySet that will receive the keys </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>toAppend</em>&nbsp;</td><td>the KeySet that provides the keys that will be transfered </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga16">ksAppend()</a>, <a class="el" href="group__keyset.html#ga12">ksInsert()</a>, <a class="el" href="group__keyset.html#ga15">ksInsertKeys()</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03519">3519</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00177">_KeySet::cursor</a>, <a class="el" href="kdbprivate_8h-source.html#l00176">_KeySet::end</a>, <a class="el" href="kdbprivate_8h-source.html#l00152">_Key::next</a>, <a class="el" href="kdbprivate_8h-source.html#l00178">_KeySet::size</a>, and <a class="el" href="kdbprivate_8h-source.html#l00175">_KeySet::start</a>.
<p>
Referenced by <a class="el" href="kdb_8c-source.html#l00679">commandList()</a>, and <a class="el" href="key_8c-source.html#l03612">ksCompare()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga18" doxytag="key.c::ksCompare"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ksCompare           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ks1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ks2</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>removed</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Compare 2 KeySets. 
<p>
This method behavior is the following:<ul>
<li>A key (by full name) that is present on <code>ks1</code> and <code>ks2</code>, and has something different, will be transfered from <code>ks2</code> to <code>ks1</code>, and <code>ks1's</code> (old) version deleted.</li><li>Keys present in <code>ks1</code>, but not in <code>ks2</code> will be transfered from <code>ks1</code> to <code>removed</code>.</li><li>Keys that are <a class="el" href="group__keytest.html#ga9">keyCompare()</a> equal in <code>ks1</code> and <code>ks2</code> will be <a class="el" href="group__key.html#ga1">keyDel()</a>eted from <code>ks2</code>.</li><li>Keys present in <code>ks2</code> but not in <code>ks1</code> will be transfered to <code>ks1</code>.</li></ul>
<p>
In the end, <code>ks1</code> will have all the keys that matter, and <code>ks2</code> will be empty.<p>
After <a class="el" href="group__keyset.html#ga18">ksCompare()</a>, you should, in this order:<ol type=1>
<li>ksDel(ks2)</li><li>call <a class="el" href="group__kdb.html#ga15">kdbSetKeys()</a> on <code>ks1</code> to commit all changed keys</li><li><a class="el" href="group__kdb.html#ga18">kdbRemoveKey()</a> for all keys in the <code>removed</code> KeySet</li><li>ksDel(removed)</li></ol>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ks1</em>&nbsp;</td><td>first and main KeySet </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ks2</em>&nbsp;</td><td>second KeySet </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>removed</em>&nbsp;</td><td>(generally empty) KeySet that will be filled with keys removed from <code>ks1</code> </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keytest.html#ga9">keyCompare()</a> <p>
<a class="el" href="group__libexample.html#ga30">commandEdit()</a> at the <a class="el" href="group__kdb.html">kdb</a> command </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>allways 0 </dd></dl>
<dl compact><dt><b>Example</b></dt><dd><div class="fragment"><pre class="fragment">KeySet *ks1,*ks2,*removed;
Key *key;

ks1=<a class="code" href="group__keyset.html#ga0">ksNew</a>();
ks2=<a class="code" href="group__keyset.html#ga0">ksNew</a>();
removed=<a class="code" href="group__keyset.html#ga0">ksNew</a>();

<span class="comment">// ...</span>
<span class="comment">// Populate ks1 and ks2....</span>
<span class="comment">// ...</span>

<a class="code" href="group__keyset.html#ga18">ksCompare</a>(ks1,ks2,removed);

<a class="code" href="group__keyset.html#ga1">ksDel</a>(ks2);  <span class="comment">// second KeySet is allways empty after ksCompare()</span>
<a class="code" href="group__kdb.html#ga15">kdbSetKeys</a>(ks1); <span class="comment">// commit changed keys</span>
<a class="code" href="group__keyset.html#ga1">ksDel</a>(ks1);  <span class="comment">// don't need ks1 anymore</span>

<span class="comment">// Remove all keys that disapeared from ks1...</span>
<a class="code" href="group__keyset.html#ga21">ksSort</a>(removed); <span class="comment">// Sort it first so then we ensure child keys are removed</span>
                 <span class="comment">// before their parents</span>
<span class="keywordflow">while</span> (key=<a class="code" href="group__keyset.html#ga14">ksPopLast</a>(removed)) {
    <a class="code" href="group__kdb.html#ga18">kdbRemoveKey</a>(key);
    <a class="code" href="group__key.html#ga1">keyDel</a>(key);
}

<a class="code" href="group__keyset.html#ga1">ksDel</a>(removed); <span class="comment">// free the KeySet memory</span>
</pre></div></dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03612">3612</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00176">_KeySet::end</a>, <a class="el" href="group__key.html#gga7a15">KEY_SWITCH_NAME</a>, <a class="el" href="key_8c-source.html#l02479">keyCompare()</a>, <a class="el" href="key_8c-source.html#l00424">keyDel()</a>, <a class="el" href="key_8c-source.html#l03497">ksAppend()</a>, <a class="el" href="key_8c-source.html#l03519">ksAppendKeys()</a>, <a class="el" href="kdbprivate_8h-source.html#l00152">_Key::next</a>, <a class="el" href="kdbprivate_8h-source.html#l00178">_KeySet::size</a>, and <a class="el" href="kdbprivate_8h-source.html#l00175">_KeySet::start</a>.
<p>
Referenced by <a class="el" href="kdb_8c-source.html#l00923">commandEdit()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga19" doxytag="key.c::ksToStream"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ssize_t ksToStream           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ks</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>FILE *&nbsp;</td>
          <td class="mdname" nowrap> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>options</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Writes to <code>stream</code> an XML version of the <code>ks</code> object. 
<p>
String generated is of the form: <div class="fragment"><pre class="fragment">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;!-- Generated by Elektra API. Total of 7 keys. --&gt;
  
&lt;keyset xmlns="http://elektra.sourceforge.net"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://elektra.sourceforge.net elektra.xsd"&gt;


&lt;key ...&gt;...&lt;/key&gt;
&lt;key ...&gt;...&lt;/key&gt;
&lt;key ...&gt;...&lt;/key&gt;

&lt;/keyset&gt;</pre></div><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>stream</em>&nbsp;</td><td>where to write output: a file or stdout </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>accepted <a class="el" href="group__kdb.html#ga24">KDBOptions</a> ORed:<ul>
<li><code><a class="el" href="group__kdb.html#gga24a71">KDBOptions::KDB_O_NUMBERS</a></code> <br>
 Do not convert UID and GID into user and group names.</li><li><code><a class="el" href="group__kdb.html#gga24a70">KDBOptions::KDB_O_CONDENSED</a></code> <br>
 Less human readable, more condensed output.</li><li><code><a class="el" href="group__kdb.html#gga24a72">KDBOptions::KDB_O_XMLHEADERS</a></code> <br>
 Use it. Include the correct XML headers in the output. If not used, the &lt;?xml?&gt; and schema info inside the &lt;keyset&gt; object will not be generated.</li></ul>
</td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keymisc.html#ga1">keyToStream()</a> <p>
<a class="el" href="group__libexample.html#ga28">commandList()</a> for usage example </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>number of bytes written to output, or -1 if some error occurs </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03729">3729</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="key_8c-source.html#l02563">keyToStream()</a>, <a class="el" href="kdbprivate_8h-source.html#l00152">_Key::next</a>, <a class="el" href="kdbprivate_8h-source.html#l00178">_KeySet::size</a>, and <a class="el" href="kdbprivate_8h-source.html#l00175">_KeySet::start</a>.
<p>
Referenced by <a class="el" href="kdb_8c-source.html#l00923">commandEdit()</a>, and <a class="el" href="kdb_8c-source.html#l00679">commandList()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga21" doxytag="key.c::ksSort"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ksSort           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ks</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sorts a KeySet aphabetically by Key name, using qsort(). 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ks</em>&nbsp;</td><td>KeySet to be sorted </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03770">3770</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00176">_KeySet::end</a>, <a class="el" href="kdbprivate_8h-source.html#l00152">_Key::next</a>, <a class="el" href="kdbprivate_8h-source.html#l00178">_KeySet::size</a>, and <a class="el" href="kdbprivate_8h-source.html#l00175">_KeySet::start</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga22" doxytag="key.c::ksInit"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ksInit           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ks</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
KeySet object initializer. 
<p>
You should always use <a class="el" href="group__keyset.html#ga0">ksNew()</a> instead of <a class="el" href="group__keyset.html#ga22">ksInit()</a>.<p>
Every KeySet object that will be used must be initialized first, to setup pointers, counters, etc. After use, all <a class="el" href="group__keyset.html#ga22">ksInit()</a>ialized KeySets must be cleaned with <a class="el" href="group__keyset.html#ga23">ksClose()</a>.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga0">ksNew()</a>, <a class="el" href="group__keyset.html#ga23">ksClose()</a>, <a class="el" href="group__key.html#ga3">keyInit()</a> </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>allways 0 </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03808">3808</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00177">_KeySet::cursor</a>, <a class="el" href="kdbprivate_8h-source.html#l00176">_KeySet::end</a>, <a class="el" href="kdbprivate_8h-source.html#l00178">_KeySet::size</a>, and <a class="el" href="kdbprivate_8h-source.html#l00175">_KeySet::start</a>.
<p>
Referenced by <a class="el" href="key_8c-source.html#l02913">ksNew()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga23" doxytag="key.c::ksClose"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ksClose           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__KeySet.html">KeySet</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ks</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
KeySet object cleaner. 
<p>
Will <a class="el" href="group__key.html#ga1">keyDel()</a> all contained keys, reset internal pointers and counters.<p>
After this call, the <code>ks</code> object is ready to be freed by you.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__key.html#ga1">keyDel()</a>, <a class="el" href="group__keyset.html#ga22">ksInit()</a>, <a class="el" href="group__key.html#ga4">keyClose()</a> <p>
<a class="el" href="group__keyset.html#ga16">ksAppend()</a> for details on how keys are inserted in KeySets </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>allways 0 </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l03827">3827</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00177">_KeySet::cursor</a>, <a class="el" href="kdbprivate_8h-source.html#l00176">_KeySet::end</a>, <a class="el" href="key_8c-source.html#l00424">keyDel()</a>, <a class="el" href="kdbprivate_8h-source.html#l00152">_Key::next</a>, <a class="el" href="kdbprivate_8h-source.html#l00178">_KeySet::size</a>, and <a class="el" href="kdbprivate_8h-source.html#l00175">_KeySet::start</a>.
<p>
Referenced by <a class="el" href="kdb_8c-source.html#l00679">commandList()</a>, and <a class="el" href="key_8c-source.html#l02932">ksDel()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat Jul 30 09:10:59 2005 for Elektra Project by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
