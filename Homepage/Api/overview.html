<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Elektra Project: The Elektra API</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindexHL" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a></div>
<h1>The Elektra API </h1>
<p>
<h2><a class="anchor" name="overview">
Elektra Initiative Overview</a></h2>
Elektra is an initiative to unify Linux/Unix configurations. It does that providing an hierarchical namespace to store configuration keys and their values, an API to access/modify them, and command line tools.<p>
Everything about the initiative can be found at <a href="http://elektra.sf.net">http://elektra.sf.net</a><h2><a class="anchor" name="using">
Using the Elektra Library</a></h2>
A C or C++ source file that wants to use Elektra should include: <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;kdb.h&gt;</span>
</pre></div><p>
There is also a library that provides some <a class="el" href="group__tools.html">optional XML manipulation methods called KDB Tools</a>, and to use it you should include: <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;kdbtools.h&gt;</span>
</pre></div><p>
To link an executable with the Elektra library, the correct way is to use the <code>pkg-config</code> tool: <div class="fragment"><pre class="fragment"> bash$ cc `pkg-config --libs elektra` -o myapp myapp.c
</pre></div><p>
Or, if you don't have <code>pkg-config</code>: <div class="fragment"><pre class="fragment"> bash$ cc -L /lib -lelektra -o myapp myapp.c
</pre></div><h2><a class="anchor" name="classes">
Elektra API</a></h2>
The API was written in pure C because Elektra was designed to be usefull even for the most basic system programs, which are all made in C. Also, being C, bindings to other languages can appear, as we already have for Python, Ruby, etc.<p>
The API follows an Object Oriented design, and there are only 3 classes as shown by the figure:<p>
<div align="center">
<img src="classes.png" alt="classes.png">
<p><strong>Elektra Classes</strong></p></div>
 Some general things you can do with each class are:<h3><a class="anchor" name="KeyDB">
KeyDB</a></h3>
<ul>
<li><a class="el" href="group__kdb.html#ga14">Retrieve </a> and <a class="el" href="group__kdb.html#ga16">commit </a> Keys and <a class="el" href="group__kdb.html#ga15">KeySets </a>, <a class="el" href="group__kdb.html#ga10">recursively </a> or not</li><li>Retrieve and commit individual <a class="el" href="group__kdb.html#ga4">Key value </a>, by absolute name or <a class="el" href="group__kdb.html#ga6">relative to parent </a></li><li>Monitor and notify changes in <a class="el" href="group__kdb.html#ga22">Keys </a> and <a class="el" href="group__kdb.html#ga21">KeySets </a></li><li>Create and delete regular, folder or symbolic link Keys</li><li>See <a class="el" href="group__kdb.html">class documentation</a> for more</li></ul>
<h3><a class="anchor" name="Key">
Key</a></h3>
<ul>
<li>Get and Set key properties like <a class="el" href="group__keyname.html#ga0">name </a>, root and <a class="el" href="group__keyname.html#ga2">base name </a>, <a class="el" href="group__keyvalue.html#ga2">value </a>, <a class="el" href="group__keyvalue.html#ga10">type </a>, <a class="el" href="group__keymeta.html#ga12">permissions </a>, <a class="el" href="group__keymeta.html#ga14">changed time </a>, <a class="el" href="group__keymeta.html#ga6">comment </a>, etc</li><li><a class="el" href="group__keytest.html#ga9">Make powerfull comparations of all key properties with other keys </a></li><li><a class="el" href="group__keytest.html#ga8">Test if changed </a>, if it is a <a class="el" href="group__keytest.html#ga4"><code>user/</code> </a> or <a class="el" href="group__keytest.html#ga3"><code>system/</code> </a> key, etc</li><li><a class="el" href="group__keymeta.html#ga17">Flag it </a> and <a class="el" href="group__keymeta.html#ga19">test if key has a flag </a></li><li><a class="el" href="group__keymisc.html#ga1">Export Keys to an XML representation </a></li><li>See <a class="el" href="group__key.html">class documentation</a> for more</li></ul>
<h3><a class="anchor" name="KeySet">
KeySet</a></h3>
<ul>
<li>Linked list of Key objects</li><li><a class="el" href="group__keyset.html#ga12">Insert </a> and <a class="el" href="group__keyset.html#ga16">append </a> entire <a class="el" href="group__keyset.html#ga15">KeySets </a> or Keys</li><li><a class="el" href="group__keyset.html#ga4">Work with </a> its <a class="el" href="group__keyset.html#ga5">internal cursor </a></li><li><a class="el" href="group__keyset.html#ga18">Compare entire KeySets </a></li><li><a class="el" href="group__keyset.html#ga19">Export KeySets to an XML representation </a></li><li>See <a class="el" href="group__keyset.html">class documentation</a> for more</li></ul>
<h2><a class="anchor" name="keynames">
Key Names and Namespaces</a></h2>
There are 2 trees of keys: <code>system</code> and <code>user</code> <h3><a class="anchor" name="systemtree">
The "system" Subtree</a></h3>
It is provided to store system-wide configuration keys, that is, configurations that daemons and system services will use.<h3><a class="anchor" name="usertree">
The "user" Subtree</a></h3>
Used to store user-specific configurations, like the personal settings of a user to certains programs<h2><a class="anchor" name="rules">
Rules for Key Names</a></h2>
When using Elektra to store your application's configuration and state, please keep in mind the following rules:<ul>
<li>You are not allowed to create keys right under <code>system</code> or <code>user</code>.</li><li>You are not allowed to create folder keys right under <code>system</code> or <code>user</code>. They are reserved for very essential OS subsystems.</li><li>The keys for your application, called say <em>MyApp</em>, should be created under <code>system/sw/MyApp</code> and/or <code>user/sw/MyApp</code>.</li><li>It is suggested to make your application look for default keys under <code>system/sw/MyApp/current</code> and/or <code>user/sw/MyApp/current</code>. This way, from a sysadmin perspective, it will be possible to copy the <code>system/sw/MyApp/current</code> tree to something like <code>system/sw/MyApp/old</code>, and keep system clean and organized. </li></ul>
<hr size="1"><address style="align: right;"><small>Generated on Sat Jul 30 09:10:59 2005 for Elektra Project by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
