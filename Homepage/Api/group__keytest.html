<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Elektra Project: Key :: Methods for Making Tests</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a></div>
<h1>Key :: Methods for Making Tests</h1>Methods to do various tests on Keys.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keytest.html#ga0">keyIsInitialized</a> (const <a class="el" href="struct__Key.html">Key</a> *key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test if <code>key</code> is initialized.  <a href="#ga0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keytest.html#ga1">keyNameGetNamespace</a> (const char *keyName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the namespace of a key name.  <a href="#ga1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keytest.html#ga2">keyGetNamespace</a> (const <a class="el" href="struct__Key.html">Key</a> *key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the namespace of a key.  <a href="#ga2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keytest.html#ga3">keyIsSystem</a> (const <a class="el" href="struct__Key.html">Key</a> *key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check whether a key is under the <code>system</code> namespace or not.  <a href="#ga3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keytest.html#ga4">keyIsUser</a> (const <a class="el" href="struct__Key.html">Key</a> *key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check whether a key is under the <code>user</code> namespace or not.  <a href="#ga4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keytest.html#ga5">keyIsLink</a> (const <a class="el" href="struct__Key.html">Key</a> *key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if a key is a link key.  <a href="#ga5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keytest.html#ga6">keyIsDir</a> (const <a class="el" href="struct__Key.html">Key</a> *key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if a key is folder key.  <a href="#ga6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keytest.html#ga7">keyIsBin</a> (const <a class="el" href="struct__Key.html">Key</a> *key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if a key is of some binary type.  <a href="#ga7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keytest.html#ga8">keyNeedsSync</a> (const <a class="el" href="struct__Key.html">Key</a> *key)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test if the in-memory <code>key</code> object was changed after retrieved from disk.  <a href="#ga8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">u_int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__keytest.html#ga9">keyCompare</a> (const <a class="el" href="struct__Key.html">Key</a> *key1, const <a class="el" href="struct__Key.html">Key</a> *key2)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compare 2 keys.  <a href="#ga9"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Methods to do various tests on Keys. 
<p>
To use them: <div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;kdb.h&gt;</span>
</pre></div><hr><h2>Function Documentation</h2>
<a class="anchor" name="ga0" doxytag="key.c::keyIsInitialized"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int keyIsInitialized           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="struct__Key.html">Key</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>key</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Test if <code>key</code> is initialized. 
<p>
This function is more or less reliable. You'd better guarantee your code is robust enough using <a class="el" href="group__key.html#ga0">keyNew()</a>, <a class="el" href="group__key.html#ga3">keyInit()</a>, <a class="el" href="group__key.html#ga1">keyDel()</a> and <a class="el" href="group__key.html#ga4">keyClose()</a> everytime. 
<p>
Definition at line <a class="el" href="key_8c-source.html#l00447">447</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00127">_Key::flags</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga1" doxytag="key.c::keyNameGetNamespace"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int keyNameGetNamespace           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>keyName</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the namespace of a key name. 
<p>
Currently valid namespaces are <a class="el" href="group__key.html#gga6a12">KeyNamespace::KEY_NS_SYSTEM</a> and <a class="el" href="group__key.html#gga6a13">KeyNamespace::KEY_NS_USER</a>.<p>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="group__key.html#gga6a12">KeyNamespace::KEY_NS_SYSTEM</a>, <a class="el" href="group__key.html#gga6a13">KeyNamespace::KEY_NS_USER</a> or 0 </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keytest.html#ga2">keyGetNamespace()</a>, <a class="el" href="group__keytest.html#ga4">keyIsUser()</a>, <a class="el" href="group__keytest.html#ga3">keyIsSystem()</a> <p>
<a class="el" href="group__key.html#ga6">KeyNamespace</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l00877">877</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="key_8c-source.html#l00915">keyNameIsSystem()</a>, and <a class="el" href="key_8c-source.html#l00951">keyNameIsUser()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga2" doxytag="key.c::keyGetNamespace"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int keyGetNamespace           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="struct__Key.html">Key</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>key</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the namespace of a key. 
<p>
Currently valid namespaces are <a class="el" href="group__key.html#gga6a12">KeyNamespace::KEY_NS_SYSTEM</a> and <a class="el" href="group__key.html#gga6a13">KeyNamespace::KEY_NS_USER</a>.<p>
<dl compact><dt><b>Returns:</b></dt><dd><a class="el" href="group__key.html#gga6a12">KeyNamespace::KEY_NS_SYSTEM</a>, <a class="el" href="group__key.html#gga6a13">KeyNamespace::KEY_NS_USER</a> or 0 </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keytest.html#ga1">keyNameGetNamespace()</a>, <a class="el" href="group__keytest.html#ga4">keyIsUser()</a>, <a class="el" href="group__keytest.html#ga3">keyIsSystem()</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l00895">895</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00127">_Key::flags</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga3" doxytag="key.c::keyIsSystem"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int keyIsSystem           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="struct__Key.html">Key</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>key</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check whether a key is under the <code>system</code> namespace or not. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>1 if key name begins with <code>system</code>, 0 otherwise </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyname.html#ga8">keyNameIsSystem()</a>, <a class="el" href="group__keytest.html#ga4">keyIsUser()</a>, <a class="el" href="group__keyname.html#ga9">keyNameIsUser()</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l00933">933</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00127">_Key::flags</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga4" doxytag="key.c::keyIsUser"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int keyIsUser           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="struct__Key.html">Key</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>key</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check whether a key is under the <code>user</code> namespace or not. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>1 if key name begins with <code>user</code>, 0 otherwise </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyname.html#ga8">keyNameIsSystem()</a>, <a class="el" href="group__keytest.html#ga3">keyIsSystem()</a>, <a class="el" href="group__keyname.html#ga9">keyNameIsUser()</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l00969">969</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00127">_Key::flags</a>.
<p>
Referenced by <a class="el" href="key_8c-source.html#l01117">keyGetFullRootName()</a>, <a class="el" href="key_8c-source.html#l01088">keyGetFullRootNameSize()</a>, <a class="el" href="key_8c-source.html#l02563">keyToStream()</a>, and <a class="el" href="key_8c-source.html#l03192">ksLookupRE()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga5" doxytag="key.c::keyIsLink"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int keyIsLink           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="struct__Key.html">Key</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>key</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check if a key is a link key. 
<p>
The value of link keys is the key they point to.<p>
<dl compact><dt><b>Returns:</b></dt><dd>1 if key is a link, 0 otherwise </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keytest.html#ga6">keyIsDir()</a>, <a class="el" href="group__keyvalue.html#ga9">keyGetType()</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l01608">1608</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00090">_Key::access</a>, and <a class="el" href="kdbprivate_8h-source.html#l00072">_Key::type</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga6" doxytag="key.c::keyIsDir"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int keyIsDir           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="struct__Key.html">Key</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>key</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check if a key is folder key. 
<p>
Folder keys have no value.<p>
<dl compact><dt><b>Returns:</b></dt><dd>1 if key is a folder, 0 otherwise </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keytest.html#ga5">keyIsLink()</a>, <a class="el" href="group__keyvalue.html#ga9">keyGetType()</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l01626">1626</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00090">_Key::access</a>, and <a class="el" href="kdbprivate_8h-source.html#l00072">_Key::type</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga7" doxytag="key.c::keyIsBin"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int keyIsBin           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="struct__Key.html">Key</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>key</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check if a key is of some binary type. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>1 if <a class="el" href="group__key.html#gga5a10">KEY_TYPE_BINARY </a> &lt;= type &lt; <a class="el" href="group__key.html#gga5a11">KEY_TYPE_STRING </a>, 0 otherwise </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyvalue.html#ga7">keyGetBinary()</a>, <a class="el" href="group__keyvalue.html#ga8">keySetBinary()</a> </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l01642">1642</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="group__key.html#gga5a10">KEY_TYPE_BINARY</a>, and <a class="el" href="kdbprivate_8h-source.html#l00072">_Key::type</a>.
<p>
Referenced by <a class="el" href="kdb_8c-source.html#l00809">commandGet()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga8" doxytag="key.c::keyNeedsSync"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int keyNeedsSync           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="struct__Key.html">Key</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>key</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Test if the in-memory <code>key</code> object was changed after retrieved from disk. 
<p>
All library methods that change Key properties take care of setting a 'key is dirty' internal flag, that is checked by this method.<p>
<dl compact><dt><b>Returns:</b></dt><dd>1 if <code>key</code> was changed in memory, 0 otherwise. </dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l01719">1719</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00127">_Key::flags</a>.
<p>
Referenced by <a class="el" href="libkdb_8c-source.html#l00884">kdbSetKeys_default()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga9" doxytag="key.c::keyCompare"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u_int32_t keyCompare           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="struct__Key.html">Key</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>key1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="struct__Key.html">Key</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>key2</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Compare 2 keys. 
<p>
The returned flags bit array has 1s (differ) or 0s (equal) for each key meta info compared, that can be logically ORed using <code><a class="el" href="group__key.html#ga7">KeySwitch</a></code> flags. The flags you can use are <a class="el" href="group__key.html#gga7a14">KEY_SWITCH_TYPE </a>, <a class="el" href="group__key.html#gga7a15">KEY_SWITCH_NAME </a>, <a class="el" href="group__key.html#gga7a16">KEY_SWITCH_VALUE </a>, <a class="el" href="group__key.html#gga7a17">KEY_SWITCH_OWNER </a>, <a class="el" href="group__key.html#gga7a19">KEY_SWITCH_COMMENT </a>, <a class="el" href="group__key.html#gga7a20">KEY_SWITCH_UID </a>, <a class="el" href="group__key.html#gga7a21">KEY_SWITCH_GID </a>, <a class="el" href="group__key.html#gga7a22">KEY_SWITCH_MODE </a>, <a class="el" href="group__key.html#gga7a24">KEY_SWITCH_NEEDSYNC </a> and <a class="el" href="group__key.html#gga7a28">KEY_SWITCH_FLAG </a>.<p>
<dl compact><dt><b>Returns:</b></dt><dd>a bit array poiting the differences </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__keyset.html#ga18">ksCompare()</a> for examples and more detailed description <p>
<a class="el" href="group__key.html#ga7">KeySwitch</a></dd></dl>
<dl compact><dt><b>Example of very powerfull specific Key lookup in a KeySet:</b></dt><dd><div class="fragment"><pre class="fragment">KeySet *ks=<a class="code" href="group__keyset.html#ga0">ksNew</a>();
Key *base;
Key *current;
u_int32_t match;
u_int32_t interests;


<a class="code" href="group__kdb.html#ga11">kdbGetChildKeys</a>(ks,<span class="stringliteral">"usr/sw/MyApp"</span>,KDB_O_RECURSIVE);

<span class="comment">// assemble a key we'll use to compare our KeySet to</span>
base=<a class="code" href="group__key.html#ga0">keyNew</a>(<span class="stringliteral">"user/sw/MyApp/some/deep/key"</span>,
    KEY_SWITCH_TYPE,KEY_TYPE_LINK,
    KEY_SWITCH_VALUE,<span class="stringliteral">"system/mtp/x"</span>,
    KEY_SWITCH_MODE,0654,
    KEY_SWITCH_END));

<span class="comment">// we are interested only in key type and access permissions</span>
interests=(<a class="code" href="group__key.html#gga7a14">KEY_SWITCH_TYPE</a> | KEY_SWITCH_MODE);
    
<a class="code" href="group__keyset.html#ga3">ksRewind</a>(ks);   <span class="comment">// put cursor in the begining</span>
<span class="keywordflow">while</span> ((curren=<a class="code" href="group__keyset.html#ga4">ksNext</a>(ks))) {
    match=<a class="code" href="group__keytest.html#ga9">keyCompare</a>(current,base);
    
    <span class="keywordflow">if</span> ((~match &amp; interests) == interests)
        printf(<span class="stringliteral">"Key %s has same type and permissions of base key"</span>,<a class="code" href="group__keyname.html#ga5">keyStealName</a>(current));

    <span class="comment">// continue walking in the KeySet....</span>
}

<span class="comment">// now we want same name and/or value and/or sync status</span>
interests=(<a class="code" href="group__key.html#gga7a15">KEY_SWITCH_NAME</a> | <a class="code" href="group__key.html#gga7a16">KEY_SWITCH_VALUE</a> | KEY_SWITCH_NEEDSYNC);

<span class="comment">// we don't really need ksRewind(), since previous loop achieved end of KeySet</span>
<a class="code" href="group__keyset.html#ga3">ksRewind</a>(ks);
<span class="keywordflow">while</span> ((current=<a class="code" href="group__keyset.html#ga4">ksNext</a>(ks))) {
    match=<a class="code" href="group__keytest.html#ga9">keyCompare</a>(current,base);
    
    <span class="keywordflow">if</span> ((~match &amp; interests) == interests) {
        printf(<span class="stringliteral">"Key %s has same name, value, and sync status</span>
<span class="stringliteral">            of base key"</span>,<a class="code" href="group__keyname.html#ga5">keyStealName</a>(current));
    }
    <span class="comment">// continue walking in the KeySet....</span>
}

<a class="code" href="group__key.html#ga1">keyDel</a>(base);
<a class="code" href="group__keyset.html#ga1">ksDel</a>(ks);
</pre></div></dd></dl>

<p>
Definition at line <a class="el" href="key_8c-source.html#l02479">2479</a> of file <a class="el" href="key_8c-source.html">key.c</a>.
<p>
References <a class="el" href="kdbprivate_8h-source.html#l00090">_Key::access</a>, <a class="el" href="kdbprivate_8h-source.html#l00139">_Key::comment</a>, <a class="el" href="kdbprivate_8h-source.html#l00151">_Key::data</a>, <a class="el" href="kdbprivate_8h-source.html#l00120">_Key::dataSize</a>, <a class="el" href="kdbprivate_8h-source.html#l00127">_Key::flags</a>, <a class="el" href="kdbprivate_8h-source.html#l00084">_Key::gid</a>, <a class="el" href="kdbprivate_8h-source.html#l00133">_Key::key</a>, <a class="el" href="group__key.html#gga7a28">KEY_SWITCH_FLAG</a>, <a class="el" href="kdbprivate_8h-source.html#l00072">_Key::type</a>, <a class="el" href="kdbprivate_8h-source.html#l00078">_Key::uid</a>, and <a class="el" href="kdbprivate_8h-source.html#l00145">_Key::userDomain</a>.
<p>
Referenced by <a class="el" href="libkdb_8c-source.html#l01209">kdbMonitorKey_default()</a>, and <a class="el" href="key_8c-source.html#l03612">ksCompare()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat Jul 30 09:10:59 2005 for Elektra Project by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
