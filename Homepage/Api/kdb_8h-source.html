<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Elektra Project: kdb.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a></div>
<h1>kdb.h</h1><div class="fragment"><pre class="fragment">00001 <span class="comment">/***************************************************************************</span>
00002 <span class="comment">                kdb.h  -  Exported methods of the Elektra Library</span>
00003 <span class="comment">                             -------------------</span>
00004 <span class="comment">    begin                : Mon Dec 29 2003</span>
00005 <span class="comment">    copyright            : (C) 2003 by Avi Alkalay</span>
00006 <span class="comment">    email                : avi@unix.sh</span>
00007 <span class="comment"> ***************************************************************************/</span>
00008 
00009 <span class="comment">/***************************************************************************</span>
00010 <span class="comment"> *                                                                         *</span>
00011 <span class="comment"> *   This program is free software; you can redistribute it and/or modify  *</span>
00012 <span class="comment"> *   it under the terms of the BSD License (revised).                      *</span>
00013 <span class="comment"> *                                                                         *</span>
00014 <span class="comment"> ***************************************************************************/</span>
00015 
00016 
00017 <span class="comment">/* Subversion stuff</span>
00018 <span class="comment"></span>
00019 <span class="comment">$Id: kdb.h 248 2005-07-25 12:51:33Z aviram $</span>
00020 <span class="comment">$LastChangedBy: aviram $</span>
00021 <span class="comment"></span>
00022 <span class="comment">*/</span>
00023 
00024 <span class="preprocessor">#ifndef KDB_H</span>
00025 <span class="preprocessor"></span><span class="preprocessor">#define KDB_H</span>
00026 <span class="preprocessor"></span>
00027 
00028 
00029 <span class="comment">/*</span>
00030 <span class="comment"> * @defgroup general Elektra General definitions</span>
00031 <span class="comment"> * @brief Some global definitions when using the Elektra API</span>
00032 <span class="comment"> *</span>
00033 <span class="comment"> */</span>
00034 
00035 
00036 
00037 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
00038 <span class="preprocessor">#include &lt;errno.h&gt;</span>
00039 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00040 <span class="preprocessor">#include &lt;regex.h&gt;</span> 
00041 
00042 <span class="preprocessor">#define RG_KEY_DELIM            '/'</span>
00043 <span class="preprocessor"></span>
00044 
00045 <span class="comment">/* When FORMAT_VERSION changes, FORMAT must change also. */</span>
00046 <span class="preprocessor">#define RG_KEY_FORMAT_VERSION   2</span>
00047 <span class="preprocessor"></span><span class="preprocessor">#define RG_KEY_FORMAT           "RG002"</span>
00048 <span class="preprocessor"></span>
00049 
<a name="l00072"></a><a class="code" href="group__key.html#ga5">00072</a> <span class="keyword">enum</span> <a class="code" href="group__key.html#ga5">KeyType</a> {
00073     <a class="code" href="group__key.html#gga5a7">KEY_TYPE_UNDEFINED</a>=0,  
00074     <a class="code" href="group__key.html#gga5a8">KEY_TYPE_DIR</a>=1,        
00075     <a class="code" href="group__key.html#gga5a9">KEY_TYPE_LINK</a>=2,       
00078     <a class="code" href="group__key.html#gga5a10">KEY_TYPE_BINARY</a>=20,    
00082     <a class="code" href="group__key.html#gga5a11">KEY_TYPE_STRING</a>=40     
00083 };
00084 
00085 
00086 
00087 
00088 
00089 
<a name="l00095"></a><a class="code" href="group__key.html#ga6">00095</a> <span class="keyword">enum</span> <a class="code" href="group__key.html#ga6">KeyNamespace</a> {
00096     <a class="code" href="group__key.html#gga6a12">KEY_NS_SYSTEM</a>=1,       
00097     <a class="code" href="group__key.html#gga6a13">KEY_NS_USER</a>=2          
00098 };
00099 
00100 
00101 
00102 <span class="comment">/*</span>
00103 <span class="comment">The key flags bit array. The '.' means whatever:</span>
00104 <span class="comment"></span>
00105 <span class="comment">7654 3210 7654 3210 7654 3210 7654 3210</span>
00106 <span class="comment">...1 0... .0.. .1.. ..1. ..0. ...0 1... 0x10042008 Initialized</span>
00107 <span class="comment">...1 1... .1.. .1.. ..1. ..1. ...1 1... 0x18442218 Initialized mask</span>
00108 <span class="comment">.... .... .... .... .... .... .... ...1 0x00000001 TYPE</span>
00109 <span class="comment">.... .... .... .... .... .... .... ..1. 0x00000002 NAME</span>
00110 <span class="comment">.... .... .... .... .... .... .... .1.. 0x00000004 VALUE</span>
00111 <span class="comment">.... .... .... .... .... .... ..1. .... 0x00000020 DOMAIN</span>
00112 <span class="comment">.... .... .... .... .... .... .1.. .... 0x00000040 COMMENT</span>
00113 <span class="comment">.... .... .... .... .... .... 1... .... 0x00000060 UID</span>
00114 <span class="comment">.... .... .... .... .... ...1 .... .... 0x00000080 GID</span>
00115 <span class="comment">.... .... .... .... .... .1.. .... .... 0x00000400 PRM</span>
00116 <span class="comment">.... .... .... .... .... 1... .... .... 0x00000800 TIME</span>
00117 <span class="comment">.... .... .... .... ...1 .... .... .... 0x00001000 NEEDSYNC</span>
00118 <span class="comment">.... .... .... .... .1.. .... .... .... 0x00004000 ACTIVE ***DEPRECATED***</span>
00119 <span class="comment">.... .... 1... .... .... .... .... .... 0x00800000 ISSYSTEM</span>
00120 <span class="comment">.... ...1 .... .... .... .... .... .... 0x01000000 ISUSER</span>
00121 <span class="comment">1... .... .... .... .... .... .... .... 0x80000000 FLAG (general flag)</span>
00122 <span class="comment">*/</span>
00123 
00124 
00125 
<a name="l00135"></a><a class="code" href="group__key.html#ga7">00135</a> <span class="keyword">enum</span> <a class="code" href="group__key.html#ga7">KeySwitch</a> {
00136     <a class="code" href="group__key.html#gga7a14">KEY_SWITCH_TYPE</a>=1,          
00137     <a class="code" href="group__key.html#gga7a15">KEY_SWITCH_NAME</a>=1&lt;&lt;1,       
00138     <a class="code" href="group__key.html#gga7a16">KEY_SWITCH_VALUE</a>=1&lt;&lt;2,      
00139     <a class="code" href="group__key.html#gga7a17">KEY_SWITCH_OWNER</a>=1&lt;&lt;5,      
00140     <a class="code" href="group__key.html#gga7a18">KEY_SWITCH_DOMAIN</a>=KEY_SWITCH_OWNER, 
00141     <a class="code" href="group__key.html#gga7a19">KEY_SWITCH_COMMENT</a>=1&lt;&lt;6,    
00142     <a class="code" href="group__key.html#gga7a20">KEY_SWITCH_UID</a>=1&lt;&lt;7,        
00143     <a class="code" href="group__key.html#gga7a21">KEY_SWITCH_GID</a>=1&lt;&lt;8,        
00144     <a class="code" href="group__key.html#gga7a22">KEY_SWITCH_MODE</a>=1&lt;&lt;10,      
00145     <a class="code" href="group__key.html#gga7a23">KEY_SWITCH_TIME</a>=1&lt;&lt;11,      
00146     <a class="code" href="group__key.html#gga7a24">KEY_SWITCH_NEEDSYNC</a>=1&lt;&lt;12,  
00147     KEY_SWITCH_ACTIVE=1&lt;&lt;14,    <span class="comment">/* ****deprecated**** */</span>
00148     <a class="code" href="group__key.html#gga7a26">KEY_SWITCH_ISSYSTEM</a>=1&lt;&lt;23,  
00149     <a class="code" href="group__key.html#gga7a27">KEY_SWITCH_ISUSER</a>=1&lt;&lt;24,    
00150     <a class="code" href="group__key.html#gga7a28">KEY_SWITCH_FLAG</a>=1&lt;&lt;31,      
00152     <a class="code" href="group__key.html#gga7a29">KEY_SWITCH_END</a>=0,           
00155     KEY_SWITCH_INITIALIZED=0x10042008,
00156     KEY_SWITCH_INITMASK=0x18442218
00157 };
00158 
00159 
00160 
00161 <span class="comment">/*</span>
00162 <span class="comment"> * Deprecated flag names, here for legacy compatibility.</span>
00163 <span class="comment"> * Will be removed in the future.</span>
00164 <span class="comment"> * Use KeySwitches instead.</span>
00165 <span class="comment"> */</span>
00166 <span class="keyword">enum</span> KeyFlags {                                       <span class="comment">/* _DEPRECATED_ */</span>
00167     KEY_FLAG_HASTYPE      = KEY_SWITCH_TYPE,          <span class="comment">/* _DEPRECATED_ */</span>
00168     KEY_FLAG_HASKEY       = KEY_SWITCH_NAME,          <span class="comment">/* _DEPRECATED_ */</span>
00169     KEY_FLAG_HASDATA      = KEY_SWITCH_VALUE,         <span class="comment">/* _DEPRECATED_ */</span>
00170     KEY_FLAG_HASDOMAIN    = KEY_SWITCH_DOMAIN,        <span class="comment">/* _DEPRECATED_ */</span>
00171     KEY_FLAG_HASCOMMENT   = KEY_SWITCH_COMMENT,       <span class="comment">/* _DEPRECATED_ */</span>
00172     KEY_FLAG_HASUID       = KEY_SWITCH_UID,           <span class="comment">/* _DEPRECATED_ */</span>
00173     KEY_FLAG_HASGID       = KEY_SWITCH_GID,           <span class="comment">/* _DEPRECATED_ */</span>
00174     KEY_FLAG_HASPRM       = KEY_SWITCH_MODE,          <span class="comment">/* _DEPRECATED_ */</span>
00175     KEY_FLAG_HASTIME      = KEY_SWITCH_TIME,          <span class="comment">/* _DEPRECATED_ */</span>
00176     KEY_FLAG_NEEDSYNC     = KEY_SWITCH_NEEDSYNC,      <span class="comment">/* _DEPRECATED_ */</span>
00177     KEY_FLAG_FLAG         = KEY_SWITCH_FLAG,          <span class="comment">/* _DEPRECATED_ */</span>
00178     KEY_FLAG_INITIALIZED  = KEY_SWITCH_INITIALIZED,   <span class="comment">/* _DEPRECATED_ */</span>
00179     KEY_FLAG_INITMASK     = KEY_SWITCH_INITMASK       <span class="comment">/* _DEPRECATED_ */</span>
00180 };                                                    <span class="comment">/* _DEPRECATED_ */</span>
00181 
00182 
00183 
<a name="l00201"></a><a class="code" href="group__kdb.html#ga23">00201</a> <span class="keyword">enum</span> <a class="code" href="group__kdb.html#ga23">KDBErr</a> {
00202     <a class="code" href="group__kdb.html#gga23a45">KDB_RET_OK</a>=0,                 
00205     <span class="comment">/* Errors related to invalid/uninitialized objects */</span>
00206     <a class="code" href="group__kdb.html#gga23a46">KDB_RET_NULLKEY</a>=EINVAL,       
00207     <a class="code" href="group__kdb.html#gga23a47">KDB_RET_UNINITIALIZED</a>=EINVAL, 
00209     <span class="comment">/* Errors related to bad key names or keys not found */</span>
00210     <a class="code" href="group__kdb.html#gga23a48">KDB_RET_NOTFOUND</a>=ENOENT,      
00211     <a class="code" href="group__kdb.html#gga23a49">KDB_RET_INVALIDKEY</a>=EAFNOSUPPORT, 
00214     <span class="comment">/* Errors related to empty internal key properties */</span>
00215     <a class="code" href="group__kdb.html#gga23a50">KDB_RET_NOKEY</a>=EBADMSG,        
00216     <a class="code" href="group__kdb.html#gga23a51">KDB_RET_NODATA</a>=ENOMSG,        
00217     <a class="code" href="group__kdb.html#gga23a52">KDB_RET_NODESC</a>=EIDRM,         
00218     <a class="code" href="group__kdb.html#gga23a53">KDB_RET_NODOMAIN</a>=EDOM,        
00219     <a class="code" href="group__kdb.html#gga23a54">KDB_RET_NOGROUP</a>=ECHILD,       
00220     <a class="code" href="group__kdb.html#gga23a55">KDB_RET_NOTIME</a>=EMULTIHOP,     
00223     <span class="comment">/* Errors related to permissions, no memory or failed internal operations */</span>
00224     <a class="code" href="group__kdb.html#gga23a56">KDB_RET_NOCRED</a>=EACCES,        
00225     <a class="code" href="group__kdb.html#gga23a57">KDB_RET_TRUNC</a>=ENOBUFS,        
00226     <a class="code" href="group__kdb.html#gga23a58">KDB_RET_NOMEM</a>=ENOMEM,         
00227     <a class="code" href="group__kdb.html#gga23a59">KDB_RET_TYPEMISMATCH</a>=EILSEQ,  
00230     <span class="comment">/* Errors related to backend access or opening */</span>
00231     <a class="code" href="group__kdb.html#gga23a60">KDB_RET_NOSYS</a>=ENOSYS,         
00232     <a class="code" href="group__kdb.html#gga23a61">KDB_RET_EBACKEND</a>=EIO          
00233 };
00234 
00235 
<a name="l00245"></a><a class="code" href="group__kdb.html#ga24">00245</a> <span class="keyword">enum</span> <a class="code" href="group__kdb.html#ga24">KDBOptions</a> {
00246     <a class="code" href="group__kdb.html#gga24a62">KDB_O_RECURSIVE</a>=1,       
00247     <a class="code" href="group__kdb.html#gga24a63">KDB_O_DIR</a>=1&lt;&lt;1,          
00248     <a class="code" href="group__kdb.html#gga24a64">KDB_O_DIRONLY</a>=1&lt;&lt;2,      
00249     KDB_O_NOEMPTY=1&lt;&lt;3,      <span class="comment">/* unused ???? */</span>
00250     <a class="code" href="group__kdb.html#gga24a66">KDB_O_STATONLY</a>=1&lt;&lt;4,     
00251     <a class="code" href="group__kdb.html#gga24a67">KDB_O_INACTIVE</a>=1&lt;&lt;5,     
00253     <a class="code" href="group__kdb.html#gga24a68">KDB_O_SORT</a>=1&lt;&lt;6,         
00254     <a class="code" href="group__kdb.html#gga24a69">KDB_O_NFOLLOWLINK</a>=1&lt;&lt;7,  
00256 <span class="comment">/* XML exporting options for keyToStrem() */</span>
00257     <a class="code" href="group__kdb.html#gga24a70">KDB_O_CONDENSED</a>=1&lt;&lt;8,    
00258     <a class="code" href="group__kdb.html#gga24a71">KDB_O_NUMBERS</a>=1&lt;&lt;9,      
00259     <a class="code" href="group__kdb.html#gga24a72">KDB_O_XMLHEADERS</a>=1&lt;&lt;10,  
00260     <a class="code" href="group__kdb.html#gga24a73">KDB_O_FULLNAME</a>=1&lt;&lt;11,    
00262     <a class="code" href="group__kdb.html#gga24a74">KDB_O_FULLUGID</a>=1&lt;&lt;12,    
00266 <span class="comment">/* Options used by ksLookupRE() methods */</span>
00267     <a class="code" href="group__kdb.html#gga24a75">KDB_O_NOCASE</a>=1&lt;&lt;15,      
00268     <a class="code" href="group__kdb.html#gga24a76">KDB_O_NOSPANPARENT</a>=1&lt;&lt;16, 
00271 <span class="comment">/* Obsolete/renamed options */</span>
00272     KDB_O_NOVALUE=<a class="code" href="group__kdb.html#gga24a64">KDB_O_DIRONLY</a>
00273 
00274 };
00275 
00276 
00277 <span class="comment">/* Key Name Anatomy</span>
00278 <span class="comment"></span>
00279 <span class="comment">Key::key is the key name. It is a unique identifier for a kdb key.</span>
00280 <span class="comment">An exmaple of a complex key name is:</span>
00281 <span class="comment"></span>
00282 <span class="comment">    user:some.user/My Environment/SOME.VAR</span>
00283 <span class="comment"></span>
00284 <span class="comment">From this example:</span>
00285 <span class="comment">  Root name = "user:some.user"</span>
00286 <span class="comment">      Owner = "some.user"</span>
00287 <span class="comment">  Base name = "SOME.VAR"</span>
00288 <span class="comment">Parent name = "user:some.user/My Environment"</span>
00289 <span class="comment"></span>
00290 <span class="comment">*/</span>
00291 
00292 
00293 
00294 
00295 
00296 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__Key.html">_Key</a>       Key;
00297 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__KeySet.html">_KeySet</a>    KeySet;
00298 
00299 
00300 
00301 
00302 <span class="preprocessor">#ifdef __cplusplus</span>
00303 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00304 <span class="preprocessor">#endif</span>
00305 <span class="preprocessor"></span>
00306 
00307 <span class="comment">/**************************************</span>
00308 <span class="comment"></span>
00309 <span class="comment">KeyDB methods</span>
00310 <span class="comment"></span>
00311 <span class="comment">***************************************/</span>
00312 
00313 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga0">kdbOpen</a>();
00314 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga1">kdbOpenDefault</a>();
00315 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga2">kdbOpenBackend</a>(<span class="keywordtype">char</span> *backendName);
00316 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga3">kdbClose</a>();
00317 
00318 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga4">kdbGetValue</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *keyname, <span class="keywordtype">char</span> *returned,size_t maxSize);
00319 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga8">kdbGetKeyByParent</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *parentName, <span class="keyword">const</span> <span class="keywordtype">char</span> *baseName, Key *returned);
00320 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga9">kdbGetKeyByParentKey</a>(<span class="keyword">const</span> Key *parent, <span class="keyword">const</span> <span class="keywordtype">char</span> *baseName, Key *returned);
00321 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga6">kdbGetValueByParent</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *parentName, <span class="keyword">const</span> <span class="keywordtype">char</span> *baseName, <span class="keywordtype">char</span> *returned,
00322     size_t maxSize);
00323 
00324 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga5">kdbSetValue</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *keyname, <span class="keyword">const</span> <span class="keywordtype">char</span> *value);
00325 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga7">kdbSetValueByParent</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *parentName, <span class="keyword">const</span> <span class="keywordtype">char</span> *baseName, <span class="keyword">const</span> <span class="keywordtype">char</span> *value);
00326 
00327 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga17">kdbRename</a>(Key *key, <span class="keyword">const</span> <span class="keywordtype">char</span> *newName);
00328 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga19">kdbRemove</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *keyName);
00329 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga18">kdbRemoveKey</a>(<span class="keyword">const</span> Key *key);
00330 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga20">kdbLink</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *oldPath, <span class="keyword">const</span> <span class="keywordtype">char</span> *newKeyName);
00331 
00332 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga8">kdbGetKeyByParent</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *parentName, <span class="keyword">const</span> <span class="keywordtype">char</span> *baseName, Key *returned);
00333 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga9">kdbGetKeyByParentKey</a>(<span class="keyword">const</span> Key *parent, <span class="keyword">const</span> <span class="keywordtype">char</span> *basename, Key *returned);
00334 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga6">kdbGetValueByParent</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *parentName, <span class="keyword">const</span> <span class="keywordtype">char</span> *baseName, <span class="keywordtype">char</span> *returned,
00335     size_t maxSize);
00336 
00337 <span class="keywordtype">int</span> kdbGetComment(<span class="keyword">const</span> <span class="keywordtype">char</span> *keyname, <span class="keywordtype">char</span> *returned, size_t maxSize);
00338 size_t kdbSetComment(<span class="keyword">const</span> <span class="keywordtype">char</span> *keyname, <span class="keyword">const</span> <span class="keywordtype">char</span> *comment);
00339 
00340 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga13">kdbStatKey</a>(Key *key);
00341 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga14">kdbGetKey</a>(Key *key);
00342 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga16">kdbSetKey</a>(Key *key);
00343 
00344 ssize_t <a class="code" href="group__kdb.html#ga10">kdbGetKeyChildKeys</a>(<span class="keyword">const</span> Key *parentName, KeySet *returned, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> options);
00345 ssize_t <a class="code" href="group__kdb.html#ga11">kdbGetChildKeys</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *parentName, KeySet *returned, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> options);
00346 ssize_t <a class="code" href="group__kdb.html#ga12">kdbGetRootKeys</a>(KeySet *returned);
00347 
00348 <span class="keywordtype">int</span> <a class="code" href="group__kdb.html#ga15">kdbSetKeys</a>(KeySet *ks);
00349 
00350 u_int32_t <a class="code" href="group__kdb.html#ga22">kdbMonitorKey</a>(Key *interest, u_int32_t diffMask,
00351     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> iterations, <span class="keywordtype">unsigned</span> usleep);
00352 u_int32_t <a class="code" href="group__kdb.html#ga21">kdbMonitorKeys</a>(KeySet *interests, u_int32_t diffMask,
00353     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> iterations, <span class="keywordtype">unsigned</span> sleep);
00354 
00355 
00356 
00357 
00358 
00359 
00360 <span class="comment">/**************************************</span>
00361 <span class="comment"></span>
00362 <span class="comment">Key methods</span>
00363 <span class="comment"></span>
00364 <span class="comment">***************************************/</span>
00365 
00366 <span class="keywordtype">int</span> <a class="code" href="group__key.html#ga3">keyInit</a>(Key *key);
00367 <span class="keywordtype">int</span> <a class="code" href="group__key.html#ga4">keyClose</a>(Key *key);
00368 
00369 Key *<a class="code" href="group__key.html#ga0">keyNew</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *keyName, ...);
00370 <span class="keywordtype">int</span> <a class="code" href="group__key.html#ga1">keyDel</a>(Key *key);
00371 <span class="preprocessor">#define keyFree(x) keyDel(x)</span>
00372 <span class="preprocessor"></span>
00373 <span class="keywordtype">int</span> <a class="code" href="group__keytest.html#ga0">keyIsInitialized</a>(<span class="keyword">const</span> Key *key);
00374 <span class="keywordtype">int</span> <a class="code" href="group__keytest.html#ga8">keyNeedsSync</a>(<span class="keyword">const</span> Key *key);
00375 <span class="keywordtype">int</span> <a class="code" href="group__key.html#ga2">keyDup</a>(<span class="keyword">const</span> Key *source,Key *dest);
00376 
00377 <span class="keywordtype">int</span> keySerialize(<span class="keyword">const</span> Key *key,<span class="keywordtype">void</span> *buffer, size_t maxSize);
00378 <span class="keywordtype">int</span> keyUnserialize(Key *key,<span class="keyword">const</span> <span class="keywordtype">void</span> *buffer);
00379 size_t keyGetSerializedSize(<span class="keyword">const</span> Key *key);
00380 
00381 u_int8_t <a class="code" href="group__keyvalue.html#ga9">keyGetType</a>(<span class="keyword">const</span> Key *key);
00382 u_int8_t <a class="code" href="group__keyvalue.html#ga10">keySetType</a>(Key *key,u_int8_t type);
00383 
00384 <span class="keywordtype">int</span> <a class="code" href="group__keymeta.html#ga17">keySetFlag</a>(Key *key);
00385 <span class="keywordtype">int</span> <a class="code" href="group__keymeta.html#ga18">keyClearFlag</a>(Key *key);
00386 <span class="keywordtype">int</span> <a class="code" href="group__keymeta.html#ga19">keyGetFlag</a>(<span class="keyword">const</span> Key *key);
00387 
00388 ssize_t keyGetRecordSize(<span class="keyword">const</span> Key *key);
00389 ssize_t <a class="code" href="group__keyname.html#ga3">keyGetNameSize</a>(<span class="keyword">const</span> Key *key);
00390 ssize_t <a class="code" href="group__keyname.html#ga6">keyGetFullNameSize</a>(<span class="keyword">const</span> Key *key);
00391 
00392 ssize_t <a class="code" href="group__keyname.html#ga4">keyGetName</a>(<span class="keyword">const</span> Key *key, <span class="keywordtype">char</span> *returnedName, size_t maxSize);
00393 <span class="keywordtype">char</span> *<a class="code" href="group__keyname.html#ga5">keyStealName</a>(<span class="keyword">const</span> Key *key);
00394 ssize_t <a class="code" href="group__keyname.html#ga0">keySetName</a>(Key *key, <span class="keyword">const</span> <span class="keywordtype">char</span> *newName);
00395 
00396 ssize_t <a class="code" href="group__keyname.html#ga7">keyGetFullName</a>(<span class="keyword">const</span> Key *key, <span class="keywordtype">char</span> *returnedName, size_t maxSize);
00397 ssize_t <a class="code" href="group__keyname.html#ga12">keyGetRootName</a>(<span class="keyword">const</span> Key *key, <span class="keywordtype">char</span> *returned, size_t maxSize);
00398 ssize_t <a class="code" href="group__keyname.html#ga14">keyGetFullRootName</a>(<span class="keyword">const</span> Key *key, <span class="keywordtype">char</span> *returned, size_t maxSize);
00399 
00400 ssize_t <a class="code" href="group__keyname.html#ga19">keyGetBaseName</a>(<span class="keyword">const</span> Key *key, <span class="keywordtype">char</span> *returned, size_t maxSize);
00401 <span class="keywordtype">char</span> *<a class="code" href="group__keyname.html#ga20">keyStealBaseName</a>(<span class="keyword">const</span> Key *key);
00402 ssize_t <a class="code" href="group__keyname.html#ga17">keyNameGetBaseNameSize</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *keyName);
00403 ssize_t <a class="code" href="group__keyname.html#ga18">keyGetBaseNameSize</a>(<span class="keyword">const</span> Key *key);
00404 ssize_t <a class="code" href="group__keyname.html#ga1">keyAddBaseName</a>(Key *key,<span class="keyword">const</span> <span class="keywordtype">char</span> *baseName);
00405 ssize_t <a class="code" href="group__keyname.html#ga2">keySetBaseName</a>(Key *key,<span class="keyword">const</span> <span class="keywordtype">char</span> *baseName);
00406 
00407 ssize_t <a class="code" href="group__keyname.html#ga16">keyGetParentName</a>(<span class="keyword">const</span> Key *key, <span class="keywordtype">char</span> *returned, size_t maxSize);
00408 ssize_t <a class="code" href="group__keyname.html#ga15">keyGetParentNameSize</a>(<span class="keyword">const</span> Key *key);
00409 
00410 ssize_t <a class="code" href="group__keyname.html#ga10">keyNameGetRootNameSize</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *keyName);
00411 ssize_t <a class="code" href="group__keyname.html#ga11">keyGetRootNameSize</a>(<span class="keyword">const</span> Key *key);
00412 ssize_t <a class="code" href="group__keyname.html#ga13">keyGetFullRootNameSize</a>(<span class="keyword">const</span> Key *key);
00413 
00414 
00415 ssize_t <a class="code" href="group__keymeta.html#ga5">keyGetCommentSize</a>(<span class="keyword">const</span> Key *key);
00416 ssize_t <a class="code" href="group__keymeta.html#ga6">keyGetComment</a>(<span class="keyword">const</span> Key *key, <span class="keywordtype">char</span> *returnedDesc, size_t maxSize);
00417 <span class="keywordtype">char</span> *<a class="code" href="group__keymeta.html#ga7">keyStealComment</a>(<span class="keyword">const</span> Key *key);
00418 ssize_t <a class="code" href="group__keymeta.html#ga4">keySetComment</a>(Key *key, <span class="keyword">const</span> <span class="keywordtype">char</span> *newDesc);
00419 
00420 uid_t <a class="code" href="group__keymeta.html#ga8">keyGetUID</a>(<span class="keyword">const</span> Key *key);
00421 <span class="keywordtype">int</span> <a class="code" href="group__keymeta.html#ga9">keySetUID</a>(Key *key, uid_t uid);
00422 
00423 gid_t <a class="code" href="group__keymeta.html#ga10">keyGetGID</a>(<span class="keyword">const</span> Key *key);
00424 <span class="keywordtype">int</span> <a class="code" href="group__keymeta.html#ga11">keySetGID</a>(Key *key, gid_t gid);
00425 
00426 mode_t <a class="code" href="group__keymeta.html#ga12">keyGetAccess</a>(<span class="keyword">const</span> Key *key);
00427 <span class="keywordtype">int</span> <a class="code" href="group__keymeta.html#ga13">keySetAccess</a>(Key *key, mode_t mode);
00428 
00429 ssize_t <a class="code" href="group__keymeta.html#ga1">keyGetOwnerSize</a>(<span class="keyword">const</span> Key *key);
00430 ssize_t <a class="code" href="group__keymeta.html#ga2">keyGetOwner</a>(<span class="keyword">const</span> Key *key, <span class="keywordtype">char</span> *returned, size_t maxSize);
00431 <span class="keywordtype">char</span> *<a class="code" href="group__keymeta.html#ga3">keyStealOwner</a>(<span class="keyword">const</span> Key *key);
00432 ssize_t <a class="code" href="group__keymeta.html#ga0">keySetOwner</a>(Key *key, <span class="keyword">const</span> <span class="keywordtype">char</span> *userDomain);
00433 
00434 
00435 ssize_t <a class="code" href="group__keyvalue.html#ga1">keyGetValueSize</a>(<span class="keyword">const</span> Key *key);
00436 ssize_t <a class="code" href="group__keyvalue.html#ga0">keyGetDataSize</a>(<span class="keyword">const</span> Key *key);
00437 
00438 ssize_t <a class="code" href="group__keyvalue.html#ga3">keyGetString</a>(<span class="keyword">const</span> Key *key, <span class="keywordtype">char</span> *returnedString, size_t maxSize);
00439 ssize_t <a class="code" href="group__keyvalue.html#ga2">keySetString</a>(Key *key, <span class="keyword">const</span> <span class="keywordtype">char</span> *newString);
00440 <span class="keywordtype">void</span> *<a class="code" href="group__keyvalue.html#ga4">keyStealValue</a>(<span class="keyword">const</span> Key *key);
00441 
00442 ssize_t <a class="code" href="group__keyvalue.html#ga7">keyGetBinary</a>(<span class="keyword">const</span> Key *key, <span class="keywordtype">void</span> *returnedBinary, size_t maxSize);
00443 ssize_t <a class="code" href="group__keyvalue.html#ga8">keySetBinary</a>(Key *key, <span class="keyword">const</span> <span class="keywordtype">void</span> *newBinary, size_t dataSize);
00444 
00445 ssize_t <a class="code" href="group__keyvalue.html#ga11">keySetRaw</a>(Key *key, <span class="keyword">const</span> <span class="keywordtype">void</span> *newBinary, size_t dataSize);
00446 
00447 ssize_t <a class="code" href="group__keyvalue.html#ga6">keyGetLink</a>(<span class="keyword">const</span> Key *key, <span class="keywordtype">char</span> *returnedTarget, size_t maxSize);
00448 ssize_t <a class="code" href="group__keyvalue.html#ga5">keySetLink</a>(Key *key, <span class="keyword">const</span> <span class="keywordtype">char</span> *target);
00449 
00450 time_t <a class="code" href="group__keymeta.html#ga14">keyGetMTime</a>(<span class="keyword">const</span> Key *key);
00451 time_t <a class="code" href="group__keymeta.html#ga15">keyGetATime</a>(<span class="keyword">const</span> Key *key);
00452 time_t <a class="code" href="group__keymeta.html#ga16">keyGetCTime</a>(<span class="keyword">const</span> Key *key);
00453 
00454 <span class="keywordtype">int</span> <a class="code" href="group__keytest.html#ga3">keyIsSystem</a>(<span class="keyword">const</span> Key *key);
00455 <span class="keywordtype">int</span> <a class="code" href="group__keyname.html#ga8">keyNameIsSystem</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *keyName);
00456 
00457 <span class="keywordtype">int</span> <a class="code" href="group__keytest.html#ga4">keyIsUser</a>(<span class="keyword">const</span> Key *key);
00458 <span class="keywordtype">int</span> <a class="code" href="group__keyname.html#ga9">keyNameIsUser</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *keyName);
00459 
00460 <span class="keywordtype">int</span> <a class="code" href="group__keytest.html#ga2">keyGetNamespace</a>(<span class="keyword">const</span> Key *key);
00461 <span class="keywordtype">int</span> <a class="code" href="group__keytest.html#ga1">keyNameGetNamespace</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *keyName);
00462 
00463 <span class="keywordtype">int</span> <a class="code" href="group__keytest.html#ga6">keyIsDir</a>(<span class="keyword">const</span> Key *key);
00464 <span class="keywordtype">int</span> <a class="code" href="group__keytest.html#ga5">keyIsLink</a>(<span class="keyword">const</span> Key *key);
00465 <span class="keywordtype">int</span> <a class="code" href="group__keytest.html#ga7">keyIsBin</a>(<span class="keyword">const</span> Key *key);
00466 
00467 Key *<a class="code" href="group__keymisc.html#ga0">keyNext</a>(Key *key);
00468 
00469 u_int32_t <a class="code" href="group__keytest.html#ga9">keyCompare</a>(<span class="keyword">const</span> Key *key1, <span class="keyword">const</span> Key *key2);
00470 
00471 ssize_t <a class="code" href="group__keymisc.html#ga1">keyToStream</a>(<span class="keyword">const</span> Key *key, FILE* stream, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> options);
00472 
00473 
00474 <span class="comment">/**************************************</span>
00475 <span class="comment"></span>
00476 <span class="comment">KeySet methods</span>
00477 <span class="comment"></span>
00478 <span class="comment">***************************************/</span>
00479 
00480 KeySet *<a class="code" href="group__keyset.html#ga0">ksNew</a>();
00481 <span class="keywordtype">int</span> <a class="code" href="group__keyset.html#ga1">ksDel</a>(KeySet *ks);
00482 <span class="preprocessor">#define ksFree(x) ksDel(x)</span>
00483 <span class="preprocessor"></span>
00484 <span class="keywordtype">int</span> <a class="code" href="group__keyset.html#ga22">ksInit</a>(KeySet *ks);
00485 <span class="keywordtype">int</span> <a class="code" href="group__keyset.html#ga23">ksClose</a>(KeySet *ks);
00486 ssize_t <a class="code" href="group__keyset.html#ga2">ksGetSize</a>(KeySet *ks);
00487 
00488 ssize_t <a class="code" href="group__keyset.html#ga12">ksInsert</a>(KeySet *ks, Key *toInsert);
00489 ssize_t <a class="code" href="group__keyset.html#ga16">ksAppend</a>(KeySet *ks, Key *toAppend);
00490 Key *<a class="code" href="group__keyset.html#ga13">ksPop</a>(KeySet *ks);
00491 Key *<a class="code" href="group__keyset.html#ga14">ksPopLast</a>(KeySet *ks);
00492 
00493 ssize_t <a class="code" href="group__keyset.html#ga15">ksInsertKeys</a>(KeySet *ks, KeySet *toInsert);
00494 ssize_t <a class="code" href="group__keyset.html#ga17">ksAppendKeys</a>(KeySet *ks, KeySet *toAppend);
00495 
00496 ssize_t <a class="code" href="group__keyset.html#ga19">ksToStream</a>(<span class="keyword">const</span> KeySet *ks, FILE* stream, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> options);
00497 <span class="keywordtype">int</span> <a class="code" href="group__keyset.html#ga18">ksCompare</a>(KeySet *ks1, KeySet *ks2, KeySet *removed);
00498 <span class="keywordtype">void</span> <a class="code" href="group__keyset.html#ga21">ksSort</a>(KeySet *ks);
00499 
00500 Key *<a class="code" href="group__keyset.html#ga8">ksLookupByName</a>(KeySet *ks, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> options);
00501 Key *<a class="code" href="group__keyset.html#ga10">ksLookupByValue</a>(KeySet *ks, <span class="keyword">const</span> <span class="keywordtype">char</span> *value,<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> options);
00502 Key *<a class="code" href="group__keyset.html#ga11">ksLookupByBinaryValue</a>(KeySet *ks, <span class="keywordtype">void</span> *value, size_t size,
00503     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> options);
00504 u_int32_t <a class="code" href="group__keyset.html#ga9">ksLookupRE</a>(KeySet *ks, u_int32_t where,
00505     <span class="keyword">const</span> regex_t *regexp, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> options);
00506 
00507 <span class="keywordtype">int</span> <a class="code" href="group__keyset.html#ga3">ksRewind</a>(KeySet *ks);
00508 Key *<a class="code" href="group__keyset.html#ga4">ksNext</a>(KeySet *ks);
00509 Key *<a class="code" href="group__keyset.html#ga5">ksCurrent</a>(<span class="keyword">const</span> KeySet *ks);
00510 
00511 Key *<a class="code" href="group__keyset.html#ga6">ksHead</a>(KeySet *ks);
00512 Key *<a class="code" href="group__keyset.html#ga7">ksTail</a>(KeySet *ks);
00513 
00514 
00515 <span class="comment">/* Key *ksLookupByName(KeySet *ks,char *keyName); */</span>
00516 <span class="comment">/* Key *ksLookupByRegex(KeySet *ks,regex_t *regex); */</span>
00517 
00518 
00519 
00520 
00521 <span class="comment">/***************************************</span>
00522 <span class="comment"></span>
00523 <span class="comment">Helpers</span>
00524 <span class="comment"></span>
00525 <span class="comment">***************************************/</span>
00526 
00527 
00528 size_t <a class="code" href="group__backend.html#ga8">strblen</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *s);
00529 
00530 <span class="preprocessor">#ifdef __cplusplus</span>
00531 <span class="preprocessor"></span>}
00532 <span class="preprocessor">#endif</span>
00533 <span class="preprocessor"></span>
00534 
00535 <span class="preprocessor">#endif </span><span class="comment">/* KDB_H */</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Jul 30 09:10:59 2005 for Elektra Project by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
